# This file was generated by GoReleaser. DO NOT EDIT.
cask "noxdir" do
  name "noxdir"
  desc "Terminal utility for visualizing file system usage."
  homepage "https://github.com/crumbyte/noxdir"
  version "1.0.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "noxdir"
  manpage "man/noxdir.1"
  bash_completion "completion/noxdir.bash"
  zsh_completion "completion/noxdir.zsh"
  fish_completion "completion/noxdir.fish"

  on_macos do
    on_intel do
      url "https://github.com/crumbyte/noxdir/releases/download/v#{version}/noxdir-v#{version}-Darwin_x86_64.tar.gz"
      sha256 "78a1f8661422dbe832c13c945646d0a1b20ddf04833c73a1812f3a25f2c41239"
    end
    on_arm do
      url "https://github.com/crumbyte/noxdir/releases/download/v#{version}/noxdir-v#{version}-Darwin_arm64.tar.gz"
      sha256 "a18e3d4b2781440ea2c99c01b964939b74c4cdd68e4084cf96a5934911b58aaf"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/crumbyte/noxdir/releases/download/v#{version}/noxdir-v#{version}-Linux_x86_64.tar.gz"
      sha256 "7741496330bcb152c24d6340d95f6cad51a7d16a57d3c5c0069daec0b1287c6c"
    end
    on_arm do
      url "https://github.com/crumbyte/noxdir/releases/download/v#{version}/noxdir-v#{version}-Linux_arm64.tar.gz"
      sha256 "1c8b61fafd599c9eefcf2bcce03bdf26d27ce56ef9a223fa0d526cdb99ed938d"
    end
  end

  postflight do
    if system_command("/usr/bin/xattr", args: ["-h"]).exit_status == 0
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/noxdir"]
    end
  end

  # No zap stanza required
end
